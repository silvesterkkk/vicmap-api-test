<!doctype html>
<html>
<head>

  <meta charset="utf-8">
  <title>leaflet example</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="style.css" />
  <!--[if lte IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="leaflet/dist/leaflet.css" />
  <!--[if lte IE 8]>
    <link rel="stylesheet" href="leaflet/dist/leaflet.ie.css" />
  <![endif]-->
  <script type="text/javascript" src="leaflet/dist/leaflet.js"></script>
  
  <script type="text/javascript" src="http://116.240.195.134/vicmapapi/js/vicmapapi.js"></script>

  <script type="text/javascript" src="rfs.js"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/0.4.0/MarkerCluster.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/0.4.0/MarkerCluster.Default.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/0.4.0/leaflet.markercluster-src.js"></script>
  
  <script type="text/javascript">

    window.onload = function () {
    //$( document ).ready(function() {

        // Marker layers are grouped here
        var marker_01 = L.marker([-37.8557332,145.1634619]).bindPopup('Hello test'),
            marker_02 = L.marker([-37.831708, 144.983805]).bindPopup('Hello test 2');
            marker_03 = L.marker([-37.831820, 144.983895]).bindPopup('Hello test 2');
            marker_04 = L.marker([-37.831915, 144.983885]).bindPopup('Hello test 2');
            marker_05 = L.marker([-37.831812, 144.983875]).bindPopup('Hello test 2');
            marker_06 = L.marker([-37.831714, 144.983865]).bindPopup('Hello test 2');
            marker_07 = L.marker([-37.831630, 144.983855]).bindPopup('Hello test 2');
            marker_08 = L.marker([-37.831740, 144.983845]).bindPopup('Hello test 2');
            marker_09 = L.marker([-37.831850, 144.983815]).bindPopup('Hello test 2');
            marker_10 = L.marker([-37.831760, 144.983825]).bindPopup('Hello test 2');
            marker_11 = L.marker([-37.831560, 144.983835]).bindPopup('Hello test 2');
            marker_12 = L.marker([-37.831850, 144.983845]).bindPopup('Hello test 2');
        
        var cities = L.layerGroup([marker_01,marker_02,marker_03,marker_04,marker_05,marker_06,marker_07,marker_08,marker_09,marker_10,marker_11,marker_12]);
        
        // Marker layers are grouped here
        var marker_003 = L.marker([-39.1118222,146.3777324]).bindPopup('Wilsons Prom'),
            marker_004 = L.marker([-39.0203411,146.2938208]).bindPopup('Tidal River');
        
        var wilsonsprom = L.layerGroup([marker_003,marker_004]);

        // Weather map grouping
        //var openweatherRain_URL = 'http://{s}.tile.openweathermap.org/map/rain/{z}/{x}/{y}.png';

        //var openweatherRain = L.tileLayer(openweatherRain_URL,{attribution: 'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>', opacity: 0.5});

        

        //Basemaps grouping

          // Basemap tiles URLs
        var osm_URL ='http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
            osmBW_URL = 'http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png',
            esriWorldStreet_URL = 'http://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}',
            esriWorldTopo_URL = 'http://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}',
            esriWorldGray_URL = 'http://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}',
            esriWorldImagery_URL = 'http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
            CartoDB_URL = 'http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png',
            StamenWatercolor_URL = 'http://{s}.tile.stamen.com/watercolor/{z}/{x}/{y}.png',
            StamenTonerLabel_URL = 'http://{s}.tile.stamen.com/toner-labels/{z}/{x}/{y}.png',
            HikeBike_URL = 'http://{s}.tiles.wmflabs.org/hikebike/{z}/{x}/{y}.png',
            openweatherRain_URL = 'http://{s}.tile.openweathermap.org/map/rain/{z}/{x}/{y}.png',
            openweatherTemp_URL = 'http://{s}.tile.openweathermap.org/map/temp/{z}/{x}/{y}.png';
            
        
          //calling Basemaps tiles
        var osmGrayscale = L.tileLayer(osmBW_URL,{attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),
            osmStreets = L.tileLayer(osm_URL,{attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),
            esrWorldStreet = L.tileLayer(esriWorldStreet_URL,{attribution: 'Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012'}),
            esrWorldTopo = L.tileLayer(esriWorldTopo_URL,{attribution: 'Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community'}),
            esrWorldGray = L.tileLayer(esriWorldGray_URL,{attribution: 'Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ', maxZoom: 16}),
            esrWorldImagery = L.tileLayer(esriWorldImagery_URL,{attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'}),
            CartoDB = L.tileLayer(CartoDB_URL,{attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>', subdomains: 'abcd', minZoom: 0, maxZoom: 18}),
            StamenWatercolor = L.tileLayer(StamenWatercolor_URL,{attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>', subdomains: 'abcd', minZoom: 1, maxZoom: 16}),
            StamenTonerLabel = L.tileLayer(StamenTonerLabel_URL,{attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>', subdomains: 'abcd', minZoom: 0, maxZoom: 20}),
            HikeBike = L.tileLayer(HikeBike_URL,{attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),
            openweatherRain = L.tileLayer(openweatherRain_URL,{attribution: 'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>', opacity: 0.5}),
            openweatherTemp = L.tileLayer(openweatherRain_URL,{attribution: 'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>', opacity: 0.5});


        // Set initial map scale and centre
        var map = L.map('map', {
            center: [-37.8557332,145.1634619],
            zoom: 9,
            layers: [osmGrayscale, cities]
            });

        // Group basemaps
        var baseMaps = {
            "OSM Grayscale": osmGrayscale,
            "OSM Color": osmStreets,
            "ESRI Street": esrWorldStreet,
            "ESRI Topo": esrWorldTopo,
            "ESRI Grayscale": esrWorldGray,
            "ESRI Imagery": esrWorldImagery,
            "CartoDB": CartoDB,
            "Stamen Watercolor": StamenWatercolor,
            "Hike-Bike": HikeBike
        };

        //var weather = L.layerGroup([openweatherRain, openweatherTemp]);


        // Group overlays
        var overlayMaps = {
            "Cities": cities,
            "Wilsons Prom": wilsonsprom,
            "Stamen Toner Label": StamenTonerLabel
        };

        // Group overlays
        var weatherMaps = {
            "Rain (Openweather)": openweatherRain,
            "Temperature (Openweather)": openweatherTemp
        };

        //L.geoJson(rfs).addTo(map);
        //var featureLayer = L.mapbox.featureLayer().loadURL('http://www.rfs.nsw.gov.au/feeds/majorIncidents.xml').addTo(map);

        // Add grouped layers to the map
        L.control.layers(baseMaps, overlayMaps, weatherMaps).addTo(map);

      };

  </script>

</head>

<body>
  <div id="map"></div>
</body>
</html>